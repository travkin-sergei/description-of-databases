{% extends 'base.html' %}
{% block title %}{{ title }}{% endblock %}
{% block body %}
<style>
    .bg-custom-black { background-color: #000000 !important; }
    .btn-custom {
        background-color: #808080 !important;
        border-color: #808080 !important;
        color: white !important;
        transition: all 0.3s ease;
    }
    .btn-custom:hover, .btn-custom:active, .btn-custom:focus {
        background-color: #ff0000 !important;
        border-color: #ff0000 !important;
        box-shadow: 0 0 0 0.25rem rgba(255, 0, 0, 0.25);
    }
    .table-striped-custom tbody tr:nth-child(odd) { background-color: #ffffff !important; }
    .table-striped-custom tbody tr:nth-child(even) { background-color: #ffff99 !important; }
</style>
<h1 class="text-center my-4">{{ title }}</h1>
<div class="container">
    <div class="card bg-custom-black text-white mb-4">
        <div class="card-body">
            <form method="get" class="form-inline">
                <div class="d-flex flex-wrap align-items-center">
                    {% for field in filter.form %}
                    <div class="me-3 mb-2">
                        {{ field.label_tag }}
                        {{ field }}
                    </div>
                    {% endfor %}
                    <div class="ms-auto mb-2">
                        <button type="submit" class="btn btn-custom me-2">Применить</button>
                        <a href="?" class="btn btn-custom">Сбросить</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
    {% if page_obj %}
    <div class="table-responsive">
        <table class="table table-bordered table-hover table-striped-custom">
            <thead class="bg-custom-black text-white">
            <tr>
                <th>#</th>
                <th>Название</th>
                <th>Тип</th>
                <th>Хост</th>
                <th>Порт</th>
                <th>Версия</th>
                <th>Статус</th>
            </tr>
            </thead>
            <tbody>
            {% for database in page_obj.object_list %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ database.name|default:"-" }}</td>
                <td>{{ database.type|default:"-" }}</td>
                <td>{{ database.host }}</td>
                <td>{{ database.port }}</td>
                <td>{{ database.version|default:"-" }}</td>
                <td>
                    <span class="badge bg-{% if database.is_active %}success{% else %}danger{% endif %}">
                        {% if database.is_active %}Активна{% else %}Неактивна{% endif %}
                    </span>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="alert alert-warning">Нет данных для отображения</div>
    {% endif %}
</div>
{% endblock %}